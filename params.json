{"name":"Yii2-conditional-validator","tagline":"If-then validation rules on Yii2 Framework using core validators","body":"Yii2 Conditional Validator\r\n==========================\r\n\r\nYii2 Conditional Validator (Y2CV) validates some attributes depending on certain conditions (rules).\r\nYou can use any core validator as you usually would do or any other class based or inline validator.\r\nAn interesting feature is that you can even use the own Y2CV inside itself to perform more complex conditions.\r\nBasically, Y2CV executes the rules set in the param `if` and if there are no errors executes the rules set in the param `then`.\r\n\r\n\r\n## Requirements\r\n\r\n- Yii 2.0 (dev-master)\r\n- PHP 5.4\r\n\r\n> Note:\r\nThis extension mandatorily requires [Yii Framework 2](https://github.com/yiisoft/yii2).\r\nThe framework is under active development and the first stable release of Yii 2 is expected in early 2014.\r\n\r\n\r\n## Installation\r\n\r\n\r\nThe preferred way to install this extension is through [Composer](http://getcomposer.org/).\r\n\r\nEither run\r\n\r\n``` php composer.phar require kop/yii2-conditional-validator \"dev-master\" ```\r\n\r\nor add\r\n\r\n``` \"kop/yii2-conditional-validator\": \"dev-master\"```\r\n\r\nto the `require` section of your `composer.json` file.\r\n\r\n\r\n## Syntax Example\r\n\r\n```php\r\n[['safeAttributes'], `path.to.ConditionalValidator`,\r\n    'if' => [\r\n        // rule1: [['attrX', 'attrY'], 'required', ... ]\r\n        // ruleN: ...\r\n    ],\r\n    'then' => [\r\n        // rule1: [['attrZ', 'attrG'], 'required', ... ]\r\n        // ruleN: ...\r\n    ]\r\n]\r\n```\r\n\r\n- `safeAttributes`: The name of the attributes that should be turned safe (since Yii has no way to make dynamic validators to turn attributes safe);\r\n- `path.to.ConditionalValidator`: In the most of cases will be `ConditionalValidator::className()`;\r\n- `if`: (bidimensional array) The conditional rules to be validated. *Only* if they are all valid (i.e., have no errors) then the rules in `then` will be validated;\r\n- `then`: (bidimensional array) The rules that will be validated *only* if there are no errors in rules of `if` param.\r\n\r\n> Note:\r\nErrors in the rules set in the param `if` are discarded after checking. Only errors in the rules set in param `then` are really kept.\r\n\r\n\r\n## Usage Examples\r\n\r\n`If` *customer_type* is \"active\" `then` *birthdate* and *city* are `required`:\r\n```php\r\npublic function rules()\r\n{\r\n    return [\r\n        [['customer_type'], ConditionalValidator::className(),\r\n            'if' => [\r\n                [['customer_type'], 'compare', 'compareValue' => 'active']\r\n            ],\r\n            'then' => [\r\n                [['birthdate', 'city'], 'required']\r\n            ]\r\n        ]\r\n    ];\r\n}\r\n```\r\n\r\n`If` *customer_type* is \"inactive\" `then` *birthdate* and *city* are `required` **and** *city* must be \"sao_paulo\", \"sumare\" or \"jacarezinho\":\r\n```php\r\npublic function rules()\r\n{\r\n    return [\r\n        [['customer_type'], ConditionalValidator::className(),\r\n            'if' => [\r\n                [['customer_type'], 'compare', 'compareValue' => 'active']\r\n            ),\r\n            'then' => [\r\n                [['birthdate', 'city'], 'required'],\r\n                [['city'], 'in', 'range' => ['sao_paulo', 'sumare', 'jacarezinho']]\r\n            ]\r\n        ]\r\n    ];\r\n}\r\n```\r\n\r\n`If` *information* starts with 'http://' **and** has at least 24 chars length `then` the own *information* must be a valid url:\r\n```php\r\npublic function rules()\r\n{\r\n    return [\r\n        [['information'], ConditionalValidator::className(),\r\n            'if' => [\r\n                [['information'], 'match', 'pattern' => '/^http:\\/\\//'],\r\n                [['information'], 'string', 'min' => 24, 'allowEmpty' => false]\r\n            ),\r\n            'then' => [\r\n                [['information'], 'url']\r\n            ]\r\n        ]\r\n    ];\r\n}\r\n```\r\n\r\n\r\n## Report\r\n\r\n- Report any issues [on the GitHub](https://github.com/kop/yii2-conditional-validator/issues).\r\n\r\n\r\n## License\r\n\r\n**yii2-conditional-validator** is released under the MIT License. See the bundled `LICENSE.md` for details.\r\n\r\n\r\n## Resources\r\n\r\n- [Project Page](http://kop.github.io/yii2-conditional-validator)\r\n- [Packagist Package](https://packagist.org/packages/kop/yii2-conditional-validator)\r\n- [Source Code](https://github.com/kop/yii2-conditional-validator)","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}