{"name":"Yii2-conditional-validator","tagline":"If-then validation rules on Yii2 Framework using core validators","body":"Yii2 Conditional Validator\r\n==========================\r\n\r\nYii2 Conditional Validator (Y2CV) validates some attributes depending on certain conditions (rules).\r\nYou can use any core validator as you usually would do or any other class based or inline validator.\r\nAn interesting feature is that you can even use the own Y2CV inside itself to perform more complex conditions.\r\nBasically, Y2CV executes the rules set in the param `if` and if there are no errors executes the rules set in the param `then`.\r\n\r\n\r\n## Installation\r\n\r\nDescribe composer here.\r\n\r\n\r\n## Usage Examples\r\n\r\n```php\r\n['safeAttribsList', ConditionalValidator::className(),\r\n    'if' => [\r\n        // rule1: ['attrX, attrY', 'required', ... ]\r\n        // ruleN: ...\r\n    ],\r\n    'then' => [\r\n        // rule1: ['attrZ, attrG', 'required', ... ]\r\n        // ruleN: ...\r\n    ]\r\n]\r\n```\r\n\r\n- `safeAttribsList`: The name of the attributes that should be turned safe (since Yii has no way to make dinamic validators to turn attributes safe);\r\n- `path.to.YiiConditionalValidator`: In the most of cases will be `ext.YiiConditionalValidator`;\r\n- `if`: (bidimensional array) The conditional rules to be validated. *Only* if they are all valid (i.e., have no errors) then the rules in `then` will be validated;\r\n- `then`: (bidimensional array) The rules that will be validated *only* if there are no errors in rules of `if` param;\r\n\r\n> Note:\r\nErrors in the rules set in the param `if` are discarded after checking. Only errors in the rules set in param `then` are really kept.\r\n\r\n\r\n## Examples\r\n\r\n`If` *customer_type* is \"active\" `then` *birthdate* and *city* are `required`:\r\n```php\r\npublic function rules()\r\n{\r\n    return array(\r\n        array('customer_type', 'ext.YiiConditionalValidator',\r\n            'if' => array(\r\n                array('customer_type', 'compare', 'compareValue'=>\"active\"),\r\n            ),\r\n            'then' => array(\r\n                array('birthdate, city', 'required'),\r\n            ),\r\n        ),\r\n    );\r\n}\r\n```\r\n\r\n`If` *customer_type* is \"inactive\" `then` *birthdate* and *city* are `required` **and** *city* must be \"sao_paulo\", \"sumare\" or \"jacarezinho\":\r\n```php\r\npublic function rules()\r\n{\r\n    return array(\r\n        array('customer_type', 'ext.YiiConditionalValidator',\r\n            'if' => array(\r\n                array('customer_type', 'compare', 'compareValue'=>\"active\"),\r\n            ),\r\n            'then' => array(\r\n                array('birthdate, city', 'required'),\r\n                array('city', 'in', 'range' => array(\"sao_paulo\", \"sumare\", \"jacarezinho\")),\r\n            ),\r\n        ),\r\n    );\r\n}\r\n```\r\n\r\n`If` *information* starts with 'http://' **and** has at least 24 chars length `then` the own *information* must be a valid url:\r\n```php\r\npublic function rules()\r\n{\r\n    return array(\r\n        array('information', 'ext.YiiConditionalValidator',\r\n            'if' => array(\r\n                array('information', 'match', 'pattern'=>'/^http:\\/\\//'),\r\n                array('information', 'length', 'min'=>24, 'allowEmpty'=>false),\r\n            ),\r\n            'then' => array(\r\n                array('information', 'url'),\r\n            ),\r\n        ),\r\n    );\r\n}\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}